<div class="card p-4 mt-4">
  <h2 class="text-primary mb-3">Les utilisateurs</h2>

  <!-- Chargement -->
  <div *ngIf="loading" class="p-d-flex p-jc-center p-ai-center" style="height: 150px;">
    <p-progressSpinner></p-progressSpinner>
  </div>

  <!-- Liste des utilisateurs -->
  <div *ngIf="!loading">
    <p-table [value]="users" [paginator]="true" [rows]="10" responsiveLayout="scroll" class="p-datatable-sm">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="username">
            Nom d'utilisateur
            <p-sortIcon field="username"></p-sortIcon>
          </th>
          <th pSortableColumn="email">
            Email
            <p-sortIcon field="email"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>
            <a [routerLink]="['/user-forms', user.id]" class="text-blue-600 hover:underline">
              {{ user.username }}
            </a>
          </td>
          <td>{{ user.email }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="2">
            <p-message severity="info" text="Aucun utilisateur trouvÃ©."></p-message>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<!-- Styles optionnels -->
<style>
  .text-primary {
    color: var(--primary-color);
  }
</style>
